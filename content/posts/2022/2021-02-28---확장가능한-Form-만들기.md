---
title: í™•ì¥ê³¼ ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ìš´ Form ë§Œë“¤ì–´ë³´ê¸°
date: "2022-02-27"
template: "post"
draft: false
slug: "/posts/javascript/í™•ì¥ê°€ëŠ¥í•œ-Form-ë§Œë“¤ê¸°"
category: "javascript"
tags:
  - "javascript"
  - "typescript"
  - "Form ë§Œë“¤ê¸°"
  - "response ìš”ì²­"
  - "request ìš”ì²­"
  - "í™•ì¥ê°€ëŠ¥í•œ Form"
description: í™•ì¥ê³¼ ìˆ˜ì •ì´ ì‰½ê²Œ Formì„ ë§Œë“¤ì–´ë³´ì.
---

# í™•ì¥ì„±ë†’ì€ Form ì‘ì„±í•˜ê¸°

Form ì‘ì„±ì‹œ ê³ ë¯¼ì´ ë˜ëŠ” ë¶€ë¶„ì€ api ìƒì„¸ ëª…ì„¸ê°€ ë‚˜ì˜¤ì§€ ì•Šì•˜ëŠ”ë° ë§ˆí¬ì—…ì„ ì‘ì„±í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤.

![screen 6.png](https://yohanproblogasset.s3.ap-northeast-2.amazonaws.com/images/20220228/screen+6.png)

ìœ„ì™€ ê°™ì€ Formì„ ë§Œë“ ë‹¤ê³  í• ë•Œ

- Response â†’ dataë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •
- data â†’ Request ë³€í™˜í•˜ëŠ” ê³¼ì •

íŠ¹íˆ ì´ë¯¸ ë§ˆí¬ì—…ì„ ë‹¤ í•´ë†“ì€ ìƒíƒœì—ì„œ responseê°€ ë‹¤ë¥¸ êµ¬ì¡°ë¡œ ë“¤ì–´ì˜¬ ì˜ˆì •ì´ë¼ë©´, í˜¹ì—¬ ê°™ì€ êµ¬ì¡°ë¡œ ë“¤ì–´ì˜¨ë‹¤ê³  í•˜ë”ë¼ë„ í”„ë¡ íŠ¸ì—ì„œ í•œë²ˆ ì •ì œí•´ì„œ ì‚¬ìš©í•˜ëŠ”ê²Œ ë¬´ì¡°ê±´ í•„ìš”í•˜ë‹¤.

<br>

## ë‚´ê°€ ìƒê°í•œ Form ìš”êµ¬ì‚¬í•­
<br>


### 1. ìˆ˜ì •ê³¼ í™•ì¥ì´ ìš©ì´í•´ì•¼ í•œë‹¤.
<br>


Admin í˜ì´ì§€ì—ì„œ ì½˜í…ì¸ ë¥¼ ë“±ë¡í•˜ëŠ” Formì€ ë³€ê²½ë  ê°€ëŠ¥ì„±ì´ êµ‰ì¥íˆ ë†’ë‹¤ê³  ìƒê°í–ˆë‹¤.
í´ë¼ì´ì–¸íŠ¸ê°€ ê°‘ìê¸° ì½˜í…ì¸ ì— ì¶”ê°€ ì •ë³´ë“¤ì„ ë” ë„£ê³  ì‹¶ì„ ìˆ˜ë„ ìˆê³ , ì•„ì˜ˆ í•„ë“œë¥¼ ì œê±°í•´ë²„ë¦¬ê³  ì‹¶ì„ ìˆ˜ë„ ìˆë‹¤.
ê·¸ë•Œë§ˆë‹¤ ê¸°ëŠ¥ë“¤ì´ ë•ì§€ë•ì§€ ë¶™ì€ í•¨ìˆ˜ë“¤ì„ ìˆ˜ì •í•˜ëŠ” ê±´ ë¬´ì²™ ê³ ì—­ì´ë‹¤.

### 2. ì—ëŸ¬ ì²˜ë¦¬ê°€ ì‰¬ì›Œì•¼ í•œë‹¤.

Formë“¤ì€ ê°ê°ì˜ ì œëª©ì— ê¸¸ì´ì œí•œì´ ìˆì„ ìˆ˜ ìˆê³ , ê¼­ í•„ìš”í•œ í•„ë“œëŠ” ì‘ì„±ì´ ë˜ì—ˆëŠ”ì§€ í™•ì¸ì„ í•´ì•¼ í•œë‹¤.

ì–´ë–¤ í•„ë“œëŠ” ì²´í¬ë°•ìŠ¤ì´ê³ , ì–´ë–¤ í•„ë“œëŠ” ë¼ë””ì˜¤ ë²„íŠ¼ì¼ ìˆ˜ë„ ìˆë‹¤. ì—ëŸ¬ì²˜ë¦¬ë¥¼ ì‰½ê²Œ ë§Œë“¤ì–´ì•¼ ë¬¸ì œê°€ ìƒê²¼ì„ë•Œ ì‰½ê²Œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

### 3. ê¹”ë”í•˜ê²Œ ì‘ì„±í•´ì•¼ í•œë‹¤. (ì§§ê²Œ)

ìµœëŒ€í•œ ë‹¨ì¼ì±…ì„ì›ì¹™ì˜ ì„¤ê³„ë¡œ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì•¼ í•˜ê³  í›„ì— ìˆ˜ì •í• ë•Œ ì–´ë µì§€ ì•Šë„ë¡ ì§§ê²Œ ì‘ì„±í•  ìˆ˜ ìˆìœ¼ë©´ ì¢‹ë‹¤.


---

## í™•ì¥ì„±ì´ ë†’ì§€ ì•Šê³ , ìˆ˜ì •í•˜ê¸°ê°€ ì–´ë ¤ìš´ ì½”ë“œ ì˜ˆì‹œ



```tsx
const updateContents = (payload) => {
  const { name, title, contents, additonalText, businesshours } = payload;
  const isAllRequiredFiledChecked =
    name && title && contents && additonalText && businesshours;

  if (!isAllRequiredFiledChecked) {
    throw new Error("ì–´ë–¤ í•„ë“œê°€ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤.");
  }
  const result = await axios.post("/api/admin/contents/update", {
    name,
    title,
    contents,
    additonalText,
    businesshours,
  });

  return result.data;
};
```

ìœ„ì²˜ëŸ¼ ì‘ì„±í•˜ëŠ” ê²ƒì€ ê·¸ë ‡ê²Œ ì¢‹ì§€ ëª»í•˜ë‹¤ê³  ëŠê¼ˆë‹¤.

- <strong>ì˜¤ë¥˜ ì²˜ë¦¬ê°€ ì–´ë ¤ì›€:</strong> nameì´ 20ê¸€ìë¥¼ ì´ˆê³¼í•œë‹¤ê±°ë‚˜ í•„ìˆ˜ ê°’ì¸ ë¼ë””ì˜¤ì—ì„œ ì²´í¬ê°€ ì•ˆë˜ê±°ë‚˜ í•˜ë©´ ìˆ˜ì •ì´ ì–´ë µë‹¤.
- <strong>í™•ì¥ê³¼ ìˆ˜ì •ì´ ìš©ì´í•˜ì§€ ëª»í•¨:</strong> `updateContents`ë¼ëŠ” í•¨ìˆ˜ë‚´ì—ì„œ `title` í•­ëª©ì„ ìˆ˜ì •í•˜ë©´ ì˜ë„ì¹˜ ì•Šê²Œ ê´€ë ¨ë˜ì§€ ì•Šì€ ë‹¤ë¥¸ í•„ë“œê°€ ì˜í–¥ì„ ë°›ì„ ìˆ˜ ìˆë‹¤. ì´ëŠ” ì½”ë“œíŒŒì•…ì— ê±¸ë¦¬ëŠ” ì‹œê°„ì´ ê±¸ì–´ì§€ëŠ” ê²ƒì„ ëœ»í•˜ë©°, ìœ ì§€ë³´ìˆ˜ì˜ ì–´ë ¤ì›€ìœ¼ë¡œ ì§ê²°ëœë‹¤.(ìº¡ìŠí™”ì˜ ë¶€ì¡±)
- <strong>ë§¤ìš° ê¸¸ì–´ì§ˆ ìš°ë ¤ê°€ ìˆë‹¤:</strong> Formì— ë“¤ì–´ê°€ëŠ” ë‚´ìš©ì´ 30ê°œë¼ë©´ ì–´ë–¨ê¹Œ? í•œë²ˆì— request bodyì— 30ê°œë¥¼ ë³´ë‚´ë©´ ê·¸ë§Œí¼ `updateContents` í•¨ìˆ˜ì˜ ê¸¸ì´ê°€ ê¸¸ì–´ì§ˆ ìˆ˜ ë°–ì— ì—†ê³  ì´ëŠ” ìˆ˜ì •í•˜ëŠ” ì‚¬ëŒìœ¼ë¡œ í•˜ì—¬ê¸ˆ ë§ì€ ì‹œê°„ì„ ë“¤ì—¬ì„œ ì½”ë“œë¥¼ íŒŒì•…í•˜ê²Œ ë§Œë“ ë‹¤.

---
<Br>

## ìµœëŒ€í•œ í™•ì¥ì„± ë†’ê²Œ ë§Œë“¤ì–´ë³´ì.

ì¼ë‹¨ Formì„ ì‘ì„± ë‹¹ì‹œì— responseê°€ ì–´ë–»ê²Œ ì˜¤ëŠ”ì§€ ì•Œ ìˆ˜ê°€ ì—†ëŠ” ê²½ìš°ê°€ ìˆë‹¤. ë˜ ì‚¬ì „ì— ë¯¸ë¦¬ ëª…ì„¸ë¥¼ ë§ì¶°ë†¨ë‹¤ê³  í•˜ë”ë¼ë„ ìˆ˜ì‹œë¡œ ë³€ê²½ë ìˆ˜ë„ ìˆë‹¤. ê·¸ë ‡ë‹¤ê³  ë§ˆí¬ì—…ì„ ë¯¸ë¦¬ í•˜ì§€ ì•Šê³  ìˆëŠ” ê²ƒë„ ë¬¸ì œì´ë‹¤.

### 1. ë Œë”ë§ìš© ì»¤ìŠ¤í…€ form Objectë¥¼ ë§Œë“ ë‹¤.

```tsx
const defaultFormData: FormData = {
  title: {
    name: "ì½˜í…ì¸ ëª…",
    value: null,
    required: true,
    options: {
      limit: 20,
    },
  },
  city: {
    name: "ë„ì‹œ",
    value: null,
    required: true,
    options: {
      list: CITES,
    },
  },
  displayStatus: {
    name: "ì „ì‹œ ìƒíƒœ",
    value: null,
    required: true,
    options: {
      list: [
        { name: "ì „ì‹œì¤‘", value: true },
        { name: "ì „ì‹œ ì•ˆí•¨", value: false },
      ],
    },
  },
};
```

ì´ë ‡ê²Œ ë Œë”ë§ìš©ìœ¼ë¡œ ì‚¬ìš©í•  Objectë¥¼ í•˜ë‚˜ ì •ì˜í•˜ê³  ì´ ì•ˆì— ë“¤ì–´ê°ˆ Formë“¤ì„ ë¯¸ë¦¬ ë§Œë“¤ì–´ë‘”ë‹¤.<br> **ğŸ‘‰ğŸ»ğŸ‘‰ğŸ» (ì‚¬ì‹¤ Form ë ˆì½”ë“œë„ ì›ë³¸ì´ ë³€ê²½ë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì•„ì˜ˆ ìº¡ìŠí™”í•´ë²„ë¦¬ëŠ” ê²ƒë„ ì¢‹ë‹¤.)**<br>
ì´ëŸ¬ë©´ ì•„ë˜ì™€ ê°™ì´ Vue ê¸°ì¤€ìœ¼ë¡œ Form Objectë¥¼ ë°›ì•„ì„œ ë°”ì¸ë”© í•´ì¤„ ìˆ˜ ìˆë‹¤.

```html
<v-form @submit.prevent>
  <section class="form-item">
    <label class="required"> {{ title.name }} </label>
    <v-text-field
      outlined
      maxlength="20"
      dense
      :value="title.value"
      counter
      @change="updateTitle"
    />
  </section>
  <section class="form-item">
    <label class="required"> {{ city.name }} </label>
    <v-select
      :value="city.value"
      :items="CITY_SELECT_ITEM_LIST"
      class="select-option"
      outlined
      @change="selectCity"
    />
  </section>
</v-form>

<script lang="ts">
  // ë‹¨ìˆœí•˜ê²Œ ì˜ˆì‹œë§Œ..
  Vue.extend({
    props: {
      formObj: {
        type: Object,
        default: () => {},
      },
    },
  });
</script>
```

<Br>

### Responseâ†’ ì»¤ìŠ¤í…€ form objectìœ¼ë¡œ ë³€í™˜í•´ì¤„ Class ì •ì˜

ìƒê°í–ˆë˜ ëŒ€ë¡œ responseê°€ ì˜¤ì§€ ì•Šì•˜ë‹¤ê³  í•˜ì. ê·¸ëŸ´ ê²½ìš° ì´ë ‡ê²Œ ë°›ì€ responseë¥¼ ì´ì „ì— ì‘ì„±í•´ë‘” form objectì— ë§ê²Œë” ë³€í™˜ì„ ì‹œì¼œì£¼ì.

```tsx
export class ContentsResponseForm {
  private _formData: FormData;
  private readonly _data: FORM_DATA_API_RESPONSE_TYPE;
  constructor(data: FORM_DATA_API_RESPONSE_TYPE) {
    this._data = data;
    this._formData = cloneDeep(defaultFormData);
  }

  private processConvert() {
    // ë³€í™˜í•´ì£¼ëŠ” í•¨ìˆ˜ë“¤ì„ ì „ë¶€ ë„£ì–´ì¤€ë‹¤.
    this.setCity();
    this.setTitle();
    this.setTags();
    this.setWeight();
    this.setDescription();
    this.setPhone();
    this.setAddress();
  }

  get converted() {
    //publicìœ¼ë¡œëŠ” convertedë¡œ ë³€í™˜ëœ ê°’ì„ ë°›ê²Œë” ì¶”ìƒí™”í•´ì£¼ì—ˆë‹¤.
    this.processConvert();
    return this._formData;
  }

  private setCity() {
    const { city } = this._data;
    this._formData.city.value = value;
  }

  private setTitle() {
    const { subject } = this._data;
    this._formData.title.value = subject;
  }
  //... ê¸°íƒ€ formë“¤
}
```

responseë¥¼ ë°›ëŠ” ë¶€ë¶„ì—ì„œ ë°”ë¡œ ë³€í™˜ ì‘ì—…ì„ í•˜ê²Œ ë˜ë©° ë³€í™˜í•œ ë°ì´í„°ë¥¼ Vue ì½”ë“œì— ì „ë‹¬í•˜ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.

```tsx
async fetchContentsDetail (ì•„ì´ë””) {
    const result = await this.$axios.get(`api url ${ì•„ì´ë””}`)
		const responseData = new ContentsResponseForm(result.data)
    return responseData.converted
  }
```

ìœ„ì—ëŠ” ë³€í™˜ ì‘ì—…ì„ ë°”ë¡œ í•´ì„œ ì •ì œëœ ë°ì´í„°ë¥¼ ë°”ë¡œ ë³´ë‚´ì£¼ë„ë¡ í•œ ì˜ˆì‹œì´ë‹¤.<br>
êµ³ì´ apiì—ì„œ ë°”ë¡œ ë³€í™˜ì‘ì—…ì„ ì•ˆí•´ë„ ëœë‹¤. Vue fetch, createdì‹œì— ë°›ì•„ì˜¨ ë°ì´í„°ë¥¼ ì •ì œí•´ì„œ ë°”ì¸ë”© í•´ë„ ëœë‹¤.


## ì»¤ìŠ¤í…€ Form Object â†’ Request

ì´ì œ Formì„ ì „ë¶€ ì…ë ¥í•´ì„œ ì„œë²„ë¡œ request ìš”ì²­ì„ í•˜ëŠ” ì‘ì—…ì—ì„œëŠ” ìœ„ì—ì„œ response ë°ì´í„°ë¥¼ formìœ¼ë¡œ ë°”ê¾¸ì—ˆë˜ ë³€í™˜ì‘ì—…ì„ ë°˜ëŒ€ë¡œ ê±°ì¹˜ë©´ ëœë‹¤.

```tsx
export class ContentRequestForm {
  private _requestForm;
  private _data: ContentsState;
  constructor(storeData: ContentsState) {
    this._requestForm = {};
    this._data = storeData;
  }

  get converted() {
    this.processConvert();
    return this._requestForm;
  }

  private processConvert() {
    this.setSubject();
    this.setCityId();
    this.setActive();
    this.setWeight();
    this.setKeywords();
    //... ê¸°íƒ€.
  }

  private setCityId() {
    const { city } = this._data;
    this._requestForm.cityId = city.value;
  }

  private setSubject() {
    const { title } = this._data;
    this._requestForm.subject = title.value;
  }

  private setActive() {
    const { displayStatus } = this._data;
    this._requestForm.active = displayStatus.value;
  }
}
```

```tsx
// Request ë³´ë‚´ëŠ” ë¶€ë¶„
async createContentsEntity () {
    const currentStateCopy = cloneDeep(this.state.contents)
    const contentRequestForm = new ContentRequestForm(currentStateCopy)

    await this.$axios.$post(
      endpoints.createContents(),
      contentRequestForm.converted,
    )
  },
```

ë³´ë‚´ëŠ” ë¶€ë¶„ì—ì„œëŠ” ë§ˆì°¬ê°€ì§€ë¡œ

1. ContentRequestForm í´ë˜ìŠ¤ë¥¼ ì„ ì–¸í•˜ê³ 
2. ë³€í™˜ì‘ì—…ìœ¼ë¡œ ë°›ì€ `contentRequestForm.converted` ë¥¼ ì„œë²„ë¡œ ë³´ë‚´ì¤€ë‹¤.

<Br>

## ì—ëŸ¬ í•¸ë“¤ë§í•˜ê¸°

ì´ë ‡ê²Œ ì‘ì„±í•´ ë†“ìœ¼ë©´ ì—ëŸ¬ì²˜ë¦¬í•˜ê¸°ê°€ ì •ë§ ì‰¬ì›Œì§„ë‹¤. ì˜ˆì™¸ì²˜ë¦¬í•˜ëŠ” ì½”ë“œë“¤ì„ ì „ë¶€ ê°œë³„ í•¨ìˆ˜ì—ì„œ ëª©ì ì— ë§ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆê³ , ìˆ˜ì •í•˜ëŠ” ë¶€ë¶„ì—ì„œë„ íë¦„ì„ ë”°ë¼ê°ˆ ìˆ˜ ìˆì–´ì„œ ì–´ë µì§€ ì•Šê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

```tsx
class ContentsRequestForm {
  //... ì¤‘ê°„ ìƒëµ
  private setSubject() {
    const { title } = this._data;
    if (title.value === null) {
      throw new Error("ì œëª©ì€ í•„ìˆ˜ì…ë‹ˆë‹¤");
    }

    if (title.value.length > 20) {
      return new Error("ì œëª©ì€ 20ì ì´ë‚´ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”");
    }
    this._requestForm.subject = title.value;
  }
}
```

í›„ì— titleì„ ì²˜ë¦¬í•˜ëŠ” ë¶€ë¶„ì—ì„œ ë¬¸ì œê°€ ìƒê²¼ë‹¤ë©´ ì´ê²ƒì €ê²ƒ ë’¤ì„ì¸ ì§¬ë½•ì½”ë“œë¥¼ í™•ì¸í•  í•„ìš”ì—†ì´ `setSubject`í•¨ìˆ˜ë§Œ ë³´ë©´ ëœë‹¤.

## í™•ì¥ì˜ ìš©ì´í•¨

ê°€ì¥ í° ì¥ì ì€ í™•ì¥í•˜ê¸°ê°€ ì‰½ë‹¤ëŠ” ê²ƒì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ í´ë¼ì´ì–¸íŠ¸ê°€ ì½˜í…ì¸ ì— ì „í™”ë²ˆí˜¸ë¥¼ ì‚½ì…í•˜ê³  ì‹¶ë‹¤ê³  í•œë‹¤ë©´ formData, Requsetì™€ ResponseFormì—ì„œ ê°ê° ì¶”ê°€í•´ì£¼ê¸°ë§Œ í•˜ë©´ ê·¸ë§Œì´ë‹¤.

```tsx
class ContentRequestForm {
  private processConvert(){
      this.setSubject()
      this.setCityId()
      this.setActive()
      ....
      this.setTelInfo() // ì „í™”ë²ˆí˜¸ ì¶”ê°€
    }
    private setTelInfo(){. // ì „í™”ë²ˆí˜¸ ì¶”ê°€
      const { telInfo } = this._data
      this._formData.phone.value = telInfo
    }
}

class ContentRequestForm {
    private processConvert(){
      this.setSubject()
      this.setCityId()
      this.setActive()
      ....
      this.setTelInfo() // ì „í™”ë²ˆí˜¸ ì¶”ê°€
    }

    private setTelInfo(){. // ì „í™”ë²ˆí˜¸ ì¶”ê°€
      const { phone } = this._data
      this._requestForm.telInfo = phone.value
    }
}
```
<br>

## ë§ˆë¬´ë¦¬

JSì—ì„œ ì œê³µí•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ì˜ í™œìš©í•œë‹¤ë©´ ì§€ê¸ˆ ì—¬ê¸°ì“°ì¸ Formë¿ë§Œì´ ì•„ë‹ˆë¼ ìº¡ìŠí™”ê°€ í•„ìš”í•œ ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ í™•ì¥ì„± ìˆê²Œ ì„¤ê³„í•  ìˆ˜ ìˆë‹¤.

íŠ¹íˆë‚˜ ë°°ì†¡ë¹„ ê³„ì‚°, ìƒí’ˆ ê°€ê²© ê³„ì‚° ë“±ì€ ìˆ˜ì‹œë¡œ ë°”ë€Œê¸° êµ‰ì¥íˆ ì‰½ë‹¤. ê·¸ë¦¬ê³  ì´ëŸ° ë…€ì„ë“¤ì€ ëˆê³¼ ì§ì ‘ ê´€ë ¨ëœ ë¡œì§ì¸ ê²½ìš°ê°€ ë§ì„ ê²ƒì´ë‹¤.

ë‹¨ì¼ì±…ì„ì›ì¹™ì´ ì ìš©ëœ í•¨ìˆ˜ë¥¼ ì„¤ê³„í•˜ê³  ìµœëŒ€í•œ ìº¡ìŠí™”ë¥¼ í†µí•´ ìˆ˜ì •ì‹œ ì˜í–¥ì„ ë°›ì§€ ì•Šë„ë¡ í•´ì•¼ í•˜ë©°, <br>
ë” ë‚˜ì•„ê°€ì„œ ë‚´ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì‚¬ëŒì´ ìˆ˜ì •ì„ í•˜ë”ë¼ë„ ì–´ë µì§€ ì•Šê²Œ ì‘ì„±í•˜ëŠ” ê²ƒì´ í•„ìš”í•˜ë‹¤. <small> (ê·¸ë¦¬ê³  ê²½í—˜ìƒ ê²°êµ­ì—” ìê¸° ìì‹ ì´ ìˆ˜ì •í•  ì¼ì´ ë” ë§ë‹¤.)</small>
